<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
	<title>Document</title>
	<script>
        window.vconsoleLoaded = false;
        window.addEventListener('error', function(e) {
          console.error(e);
          console.error('Erro type: ', e.type);
          console.error('Error message: ', e.message);
          console.error('Error filename: ', e.filename);
          console.error('Error lineno: ', e.lineno);
          console.error('Error colno: ', e.colno);
        }, false);
    
        var s = document.createElement('script');
        s.onload = function () {
          var vConsole = new VConsole();
          console.log('cxssdfs')
        };
        s.onerror = function() {};
        s.src = './js/vconsole.min.js';
        s.async = false;
        document.getElementsByTagName("head")[0].appendChild(s);
    </script>
    <link rel="preload" as="script" href="http://localhost:4000/prefetch_demo.js" crossorigin="anonymous">
</head>
<body>
	<h1>crossorigin script</h1>
	<h3 onclick="ttt()">点击获取静态资源并执行相关方法</h3>

	<!-- <script src="http://localhost:4000/crossoriginScript.js"></script> -->
    <!-- <script src="http://localhost:4000/prefetch_demo.js"></script> -->
    <script>
        
        function ttt() {
          var s = document.createElement('script');
          s.onload = function () {
            window.dd();
          };
          s.crossOrigin = true;
          s.onerror = function() {};
          s.src = 'http://localhost:4000/prefetch_demo.js';
          s.async = false;
          document.body.appendChild(s);
          
        }
        
    </script>

	
</body>
</html>